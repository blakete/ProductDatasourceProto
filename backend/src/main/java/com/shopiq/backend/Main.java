package com.shopiq.backend;
import com.mongodb.util.JSON;
import org.json.JSONArray;
import org.json.JSONObject;
import woven.ReferenceProduct;

import java.io.IOException;
import java.net.*;
import java.lang.*;
import java.io.*;
import java.util.*;
import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;
import java.util.Map;

public class Main {
    public static final String[] barCodes = {"0885909950805", "075500000010", "079400446039", "855380004281", "681131143493", "681131039352",
    "855380004304", "855380004878", "011111062191", "037000786658", "009200300248", "009200293755"};
    /*public static final String[] barCodes = {
            "094733100014,,,,,,1,0.0,,2020-02-29 01:28:41,\n" +
            "871760000452,,,,,,1,0.0,,2020-02-29 01:28:28,\n" +
            "008100007882,,,,,,1,0.0,,2020-02-29 01:27:46,\n" +
            "300054757708,,,,,,1,0.0,,2020-02-29 01:27:09,\n" +
            "070462433838,,,,,,1,0.0,,2020-02-29 01:25:54,\n" +
            "002490877483,,,,,,1,0.0,,2020-02-29 01:25:19,\n" +
            "015000140007,,,,,,1,0.0,,2020-02-29 01:25:17,\n" +
            "076314302994,,,,,,1,0.0,,2020-02-29 01:25:09,\n" +
            "004490489269,,,,,,1,0.0,,2020-02-29 01:25:02,\n" +
            "044000028275,,,,,,1,0.0,,2020-02-29 01:24:56,\n" +
            "635985129981,,,,,,1,0.0,,2020-02-29 01:24:40,\n" +
            "050428600290,,,,,,1,0.0,,2020-02-29 01:24:14,\n" +
            "031200210074,,,,,,1,0.0,,2020-02-29 01:24:04,\n" +
            "031200200075,,,,,,1,0.0,,2020-02-29 01:23:50,\n" +
            "031200028761,,,,,,1,0.0,,2020-02-29 01:23:40,\n" +
            "004990286525,,,,,,1,0.0,,2020-02-29 01:23:38,\n" +
            "085000025871,,,,,,1,0.0,,2020-02-29 01:23:23,\n" +
            "811955011016,,,,,,1,0.0,,2020-02-29 01:22:46,\n" +
            "632565000012,,,,,,1,0.0,,2020-02-29 01:22:35,\n" +
            "613008715267,,,,,,1,0.0,,2020-02-29 01:22:24,\n" +
            "010074630607,,,,,,1,0.0,,2020-02-29 01:22:10,\n" +
            "070074630601,,,,,,1,0.0,,2020-02-29 01:22:10,\n" +
            "082592720153,,,,,,1,0.0,,2020-02-29 01:21:56,\n" +
            "048500202746,,,,,,1,0.0,,2020-02-29 01:21:47,\n" +
            "041900076382,,,,,,1,0.0,,2020-02-29 01:21:37,\n" +
            "041900076610,,,,,,1,0.0,,2020-02-29 01:21:33,\n" +
            "041900077020,,,,,,1,0.0,,2020-02-29 01:21:28,\n" +
            "050000560240,,,,,,1,0.0,,2020-02-29 01:21:14,\n" +
            "017082876324,,,,,,1,0.0,,2020-02-29 01:20:57,\n" +
            "027000372449,,,,,,1,0.0,,2020-02-29 01:20:37,\n" +
            "843571005780,,,,,,1,0.0,,2020-02-29 01:20:16,\n" +
            "850251004001,,,,,,1,0.0,,2020-02-29 01:20:01,\n" +
            "037000751014,,,,,,1,0.0,,2020-02-29 01:19:46,\n" +
            "193033013632,,,,,,1,0.0,,2020-02-29 01:19:27,\n" +
            "323900038158,,,,,,1,0.0,,2020-02-29 01:19:11,\n" +
            "050428102459,,,,,,1,0.0,,2020-02-29 01:18:50,\n" +
            "009542031695,,,,,,1,0.0,,2020-02-29 01:18:40,\n" +
            "037466039411,,,,,,1,0.0,,2020-02-29 01:18:36,\n" +
            "073010711334,,,,,,1,0.0,,2020-02-29 01:18:27,\n" +
            "012546917568,,,,,,1,0.0,,2020-02-29 01:18:13,\n" +
            "859257003018,,,,,,1,0.0,,2020-02-29 01:18:01,\n" +
            "716222264044,,,,,,1,0.0,,2020-02-29 01:17:47,"};
            */
    public static void main(String[] args)
    {
        //String[] bc = barCodes[0].split("\n");
        //String[] bc2 = new String[bc.length];
        //for(int i=0; i<bc.length; i++)
        //    bc2[i] = bc[i].split(",")[0];
        Scraper scraper = new Scraper();
        for(int i=1; i<10; i++){
            String bCode = barCodes[i];
            System.out.println("Querying: " + bCode);
            ReferenceProduct newProduct = scraper.queryProductInfo(bCode);
            if(newProduct.getStatusCode()==200) {
                System.out.println(newProduct.toString());
                System.out.println();
            }else{
                System.out.println("Unable to find: " + bCode);
                System.out.println(newProduct.getStatusCode());
                System.out.println();
            }
        }
    }
}
